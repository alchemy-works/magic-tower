plugins {
    id 'com.github.node-gradle.node'
}

task installNodeModules(type: NpmTask) {
    args = ['install']
}

task checkNodeModules {
    if (!file('node_modules').exists()) {
        dependsOn installNodeModules
    }
}

task start(type: NpmTask) {
    dependsOn checkNodeModules
    args = ['start']
}

task build(type: NpmTask) {
    dependsOn checkNodeModules
    args = ['run', 'build']
}

task clean(type: NpmTask) {
    dependsOn checkNodeModules
    args = ['run', 'clean']
}

node {
    version = '15.13.0'
    npmVersion = '7.8.0'
    download = true
}

